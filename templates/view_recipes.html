{% extends "base.html" %}

{% block title %}View Recipe{% endblock %}
{% block page_title %}Recipe Details{% endblock %}

{% block content %}
<div class="card">
    <div class="card-body">
        <h3>{{ recipe.title }}</h3>
        <p><strong>Author:</strong> {{ recipe.author.username }}</p>
        <p><strong>Category:</strong> {{ recipe.category }}</p>
        <p><strong>Status:</strong> <span class="badge bg-info">{{ recipe.status|title }}</span></p>
        <p><strong>Description:</strong> {{ recipe.description }}</p>
        <p><strong>Ingredients:</strong> {{ recipe.ingredients }}</p>
        <div><strong>Instructions:</strong></div>
        <div>{{ recipe.instructions }}</div>
        
        {% if recipe.allergies %}
        <div class="mt-3">
            <strong>Allergies:</strong>
            {% for allergy in recipe.allergies %}
                <span class="badge bg-warning">{{ allergy.name }}</span>
            {% endfor %}
        </div>
        {% endif %}
        
        <div class="mt-3">
            <a href="{{ url_for('pending_recipes') }}" class="btn btn-secondary">Back</a>
            <a href="{{ url_for('approve_recipe', recipe_id=recipe.id) }}" class="btn btn-success">Approve</a>
            <a href="{{ url_for('reject_recipe', recipe_id=recipe.id) }}" class="btn btn-danger">Reject</a>
        </div>
    </div>
</div>
{% endblock %}